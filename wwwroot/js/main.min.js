var config={apiKey:"AIzaSyBtmbzlzote3niZyXcx9HYx-GIWdv5zx4k",authDomain:"bd-group-3763.firebaseapp.com",databaseURL:"https://bd-group-3763.firebaseio.com",projectId:"bd-group-3763",storageBucket:"bd-group-3763.appspot.com",messagingSenderId:"52918020059"};firebase.initializeApp(config),$(document).ready(function(){const cart=new kendo.data.DataSource({data:[]}),myOrders=new kendo.data.DataSource({data:[]}),shopping=$("#shopping-bag").kendoGrid({dataSource:cart,sortable:!0,selectable:!0,schema:{model:{id:"id"}}}),recent=$("#recent").kendoGrid({dataSource:myOrders,sortable:!0,selectable:!0}),currentUser=firebase.auth().onAuthStateChanged(function(user){if(user)return profile.set("email",user.email),firebase.firestore().collection("transactional_order").doc(user.uid).get().then(function(snapShot){myOrders.add(snapShot.data()),myOrders.sync()}).catch(function(error){console.log(error)}),user.uid;location.replace("/")}),profile=kendo.observable({soon:function(){kendo.confirm("Coming soon later this year")},logout:function(){firebase.auth().signOut()},clearCart:function(){$("#shopping-bag").data("kendoGrid").dataSource.data([]),cart.data([]),console.log(cart.data())},checkOut:function(e){firebase.auth().onAuthStateChanged(function(user){if(user)for(let i=0;i<cart.data().length;i++)firebase.firestore().collection("transactional_order").doc(user.uid).set(JSON.parse(JSON.stringify(cart.data()[i]))).catch(function(error){kendo.alert("Poor network connection")}),firebase.firestore().collection("transactional_order").doc(user.uid).get().then(function(snapShot){myOrders.add(snapShot.data()),myOrders.sync(),location.replace("account.html")}).catch(function(error){console.log(error)})})},email:"",orderWebsite:function(){$("#orders").modal("hide"),cart.add({id:Number(1e4*Math.random()).toFixed(0),Price:"R2000",Product:"Website for Small business",Support:"1 year",Deposit:"20%"}),cart.sync(),$("#cart").modal("show")},orderWithCloud:function(){$("#orders").modal("hide"),cart.add({id:Number(1e4*Math.random()).toFixed(0),Price:"R4000",Product:"Website for Small business",Support:"1 year",Deposit:"20%"}),cart.sync(),$("#cart").modal("show")},orderWithApp:function(){$("#orders").modal("hide"),cart.add({id:Number(1e4*Math.random()).toFixed(0),Price:"R9000",Product:"Website for Small business",Support:"1 year",Deposit:"70%"}),cart.sync(),$("#cart").modal("show")}});kendo.bind(document.body,profile)});